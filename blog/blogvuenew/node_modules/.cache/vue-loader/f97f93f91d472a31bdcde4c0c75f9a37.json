{"remainingRequest":"D:\\mycode\\blogvuenew\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mycode\\blogvuenew\\src\\views\\Page.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\mycode\\blogvuenew\\src\\views\\Page.vue","mtime":1612776099808},{"path":"D:\\mycode\\blogvuenew\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mycode\\blogvuenew\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\mycode\\blogvuenew\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mycode\\blogvuenew\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBUSFJFRSBmcm9tICJ0aHJlZSI7DQppbXBvcnQgKiBhcyBkYXQgZnJvbSAiZGF0Lmd1aSI7DQppbXBvcnQgKiBhcyBTdGF0cyBmcm9tICJzdGF0cy5qcyI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJQYWdlIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgY2FtZXJhOiBudWxsLA0KICAgICAgc2NlbmU6IG51bGwsDQogICAgICByZW5kZXJlcjogbnVsbCwNCiAgICAgIGxpZ2h0OiBudWxsLA0KICAgICAgY2xvY2s6IG51bGwsDQogICAgICBtZXNoOiBudWxsLA0KICAgICAgc3RhdHM6bnVsbCwNCiAgICAgIHdpZHRoOiBudWxsLA0KICAgICAgaGVpZ2h0OiBudWxsLA0KICAgICAgcGFyYW06IG51bGwsDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHdlbGNvbWUoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvYmxvZyIgfSk7DQogICAgfSwNCiAgICBtYW5hZ2UoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvZWRpdCIgfSk7DQogICAgfSwNCiAgICBpbml0KCkgew0KICAgICAgLy/nm7jmnLoNCiAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKA0KICAgICAgICA0NSwNCiAgICAgICAgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsDQogICAgICAgIDAuMjUsDQogICAgICAgIDEwMA0KICAgICAgKTsNCiAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCgtNSwgMywgMTApOw0KICAgICAgdGhpcy5jYW1lcmEubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKDAsIDIsIDApKTsNCiAgICAgIC8v5Zy65pmvDQogICAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7DQogICAgICB0aGlzLnNjZW5lLmJhY2tncm91bmQgPSBuZXcgVEhSRUUuQ29sb3IoMHhlMGUwZTApOw0KICAgICAgdGhpcy5zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nKDB4ZTBlMGUwLCAyMCwgMTAwKTsNCg0KICAgICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpOw0KDQogICAgICAvLyDnga/lhYkNCiAgICAgIGNvbnN0IGhlbWlMaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoMHhmZmZmZmYsIDB4NDQ0NDQ0KTsNCiAgICAgIGhlbWlMaWdodC5wb3NpdGlvbi5zZXQoMCwgMjAsIDApOw0KICAgICAgdGhpcy5zY2VuZS5hZGQoaGVtaUxpZ2h0KTsNCg0KICAgICAgY29uc3QgZGlyTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZik7DQogICAgICBkaXJMaWdodC5wb3NpdGlvbi5zZXQoMCwgMjAsIDEwKTsNCiAgICAgIHRoaXMuc2NlbmUuYWRkKGRpckxpZ2h0KTsNCg0KICAgICAgLy8g5Zyw6Z2iDQogICAgICBjb25zdCBtZXNoID0gbmV3IFRIUkVFLk1lc2goDQogICAgICAgIG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIwMDAsIDIwMDApLA0KICAgICAgICBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBjb2xvcjogMHhEREREREQsIGRlcHRoV3JpdGU6IGZhbHNlIH0pDQogICAgICApOw0KICAgICAgbWVzaC5yb3RhdGlvbi54ID0gLU1hdGguUEkgLyAyOw0KICAgICAgdGhpcy5zY2VuZS5hZGQobWVzaCk7DQoNCiAgICAgIGNvbnN0IGdyaWQgPSBuZXcgVEhSRUUuR3JpZEhlbHBlcigxMDAsIDYwLCAweDAwMDAwMCwgMHgwMDAwMDApOw0KICAgICAgZ3JpZC5tYXRlcmlhbC5vcGFjaXR5ID0gMC45Ow0KICAgICAgZ3JpZC5tYXRlcmlhbC50cmFuc3BhcmVudCA9IHRydWU7DQogICAgICB0aGlzLnNjZW5lLmFkZChncmlkKTsNCg0KICAgICAgLy8gbW9kZWwNCg0KICAgICAgLy8gY29uc3QgbG9hZGVyID0gbmV3IEdMVEZMb2FkZXIoKTsNCiAgICAgIC8vIGxvYWRlci5sb2FkKCAnbW9kZWxzL2dsdGYvUm9ib3RFeHByZXNzaXZlL1JvYm90RXhwcmVzc2l2ZS5nbGInLCBmdW5jdGlvbiAoIGdsdGYgKSB7DQoNCiAgICAgIC8vIAltb2RlbCA9IGdsdGYuc2NlbmU7DQogICAgICAvLyAJc2NlbmUuYWRkKCBtb2RlbCApOw0KDQogICAgICAvLyAJY3JlYXRlR1VJKCBtb2RlbCwgZ2x0Zi5hbmltYXRpb25zICk7DQoNCiAgICAgIC8vIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCBlICkgew0KDQogICAgICAvLyAJY29uc29sZS5lcnJvciggZSApOw0KDQogICAgICAvLyB9ICk7DQoNCiAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IGFudGlhbGlhczogdHJ1ZSB9KTsNCiAgICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7DQogICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7DQogICAgICB0aGlzLnJlbmRlcmVyLm91dHB1dEVuY29kaW5nID0gVEhSRUUuc1JHQkVuY29kaW5nOw0KICAgICAgcGFnZS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpOw0KDQogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5vbldpbmRvd1Jlc2l6ZSk7DQoNCiAgICAgIC8vIHN0YXRzDQogICAgICB0aGlzLnN0YXRzID0gbmV3IFN0YXRzKCk7DQogICAgICBwYWdlLmFwcGVuZENoaWxkKHRoaXMuc3RhdHMuZG9tKTsNCiAgICB9LA0KICAgIGNyZWF0ZUdVSShtb2RlbCwgYW5pbWF0aW9ucykgew0KICAgICAgY29uc3Qgc3RhdGVzID0gWw0KICAgICAgICAiSWRsZSIsDQogICAgICAgICJXYWxraW5nIiwNCiAgICAgICAgIlJ1bm5pbmciLA0KICAgICAgICAiRGFuY2UiLA0KICAgICAgICAiRGVhdGgiLA0KICAgICAgICAiU2l0dGluZyIsDQogICAgICAgICJTdGFuZGluZyIsDQogICAgICBdOw0KICAgICAgY29uc3QgZW1vdGVzID0gWyJKdW1wIiwgIlllcyIsICJObyIsICJXYXZlIiwgIlB1bmNoIiwgIlRodW1ic1VwIl07DQoNCiAgICAgIGd1aSA9IG5ldyBkYXQuR1VJKCk7DQoNCiAgICAgIG1peGVyID0gbmV3IFRIUkVFLkFuaW1hdGlvbk1peGVyKG1vZGVsKTsNCg0KICAgICAgYWN0aW9ucyA9IHt9Ow0KDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgY29uc3QgY2xpcCA9IGFuaW1hdGlvbnNbaV07DQogICAgICAgIGNvbnN0IGFjdGlvbiA9IG1peGVyLmNsaXBBY3Rpb24oY2xpcCk7DQogICAgICAgIGFjdGlvbnNbY2xpcC5uYW1lXSA9IGFjdGlvbjsNCg0KICAgICAgICBpZiAoZW1vdGVzLmluZGV4T2YoY2xpcC5uYW1lKSA+PSAwIHx8IHN0YXRlcy5pbmRleE9mKGNsaXAubmFtZSkgPj0gNCkgew0KICAgICAgICAgIGFjdGlvbi5jbGFtcFdoZW5GaW5pc2hlZCA9IHRydWU7DQogICAgICAgICAgYWN0aW9uLmxvb3AgPSBUSFJFRS5Mb29wT25jZTsNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICAvLyBzdGF0ZXMNCg0KICAgICAgY29uc3Qgc3RhdGVzRm9sZGVyID0gZ3VpLmFkZEZvbGRlcigiU3RhdGVzIik7DQoNCiAgICAgIGNvbnN0IGNsaXBDdHJsID0gc3RhdGVzRm9sZGVyLmFkZChhcGksICJzdGF0ZSIpLm9wdGlvbnMoc3RhdGVzKTsNCg0KICAgICAgY2xpcEN0cmwub25DaGFuZ2UoZnVuY3Rpb24gKCkgew0KICAgICAgICBmYWRlVG9BY3Rpb24oYXBpLnN0YXRlLCAwLjUpOw0KICAgICAgfSk7DQoNCiAgICAgIHN0YXRlc0ZvbGRlci5vcGVuKCk7DQoNCiAgICAgIC8vIGVtb3Rlcw0KDQogICAgICBjb25zdCBlbW90ZUZvbGRlciA9IGd1aS5hZGRGb2xkZXIoIkVtb3RlcyIpOw0KDQogICAgICBmdW5jdGlvbiBjcmVhdGVFbW90ZUNhbGxiYWNrKG5hbWUpIHsNCiAgICAgICAgYXBpW25hbWVdID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgIGZhZGVUb0FjdGlvbihuYW1lLCAwLjIpOw0KDQogICAgICAgICAgbWl4ZXIuYWRkRXZlbnRMaXN0ZW5lcigiZmluaXNoZWQiLCByZXN0b3JlU3RhdGUpOw0KICAgICAgICB9Ow0KDQogICAgICAgIGVtb3RlRm9sZGVyLmFkZChhcGksIG5hbWUpOw0KICAgICAgfQ0KDQogICAgICBmdW5jdGlvbiByZXN0b3JlU3RhdGUoKSB7DQogICAgICAgIG1peGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoImZpbmlzaGVkIiwgcmVzdG9yZVN0YXRlKTsNCg0KICAgICAgICBmYWRlVG9BY3Rpb24oYXBpLnN0YXRlLCAwLjIpOw0KICAgICAgfQ0KDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVtb3Rlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICBjcmVhdGVFbW90ZUNhbGxiYWNrKGVtb3Rlc1tpXSk7DQogICAgICB9DQoNCiAgICAgIGVtb3RlRm9sZGVyLm9wZW4oKTsNCg0KICAgICAgLy8gZXhwcmVzc2lvbnMNCg0KICAgICAgZmFjZSA9IG1vZGVsLmdldE9iamVjdEJ5TmFtZSgiSGVhZF80Iik7DQoNCiAgICAgIGNvbnN0IGV4cHJlc3Npb25zID0gT2JqZWN0LmtleXMoZmFjZS5tb3JwaFRhcmdldERpY3Rpb25hcnkpOw0KICAgICAgY29uc3QgZXhwcmVzc2lvbkZvbGRlciA9IGd1aS5hZGRGb2xkZXIoIkV4cHJlc3Npb25zIik7DQoNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhwcmVzc2lvbnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgZXhwcmVzc2lvbkZvbGRlcg0KICAgICAgICAgIC5hZGQoZmFjZS5tb3JwaFRhcmdldEluZmx1ZW5jZXMsIGksIDAsIDEsIDAuMDEpDQogICAgICAgICAgLm5hbWUoZXhwcmVzc2lvbnNbaV0pOw0KICAgICAgfQ0KDQogICAgICBhY3RpdmVBY3Rpb24gPSBhY3Rpb25zWyJXYWxraW5nIl07DQogICAgICBhY3RpdmVBY3Rpb24ucGxheSgpOw0KDQogICAgICBleHByZXNzaW9uRm9sZGVyLm9wZW4oKTsNCiAgICB9LA0KICAgIGZhZGVUb0FjdGlvbihuYW1lLCBkdXJhdGlvbikgew0KICAgICAgcHJldmlvdXNBY3Rpb24gPSBhY3RpdmVBY3Rpb247DQogICAgICBhY3RpdmVBY3Rpb24gPSBhY3Rpb25zW25hbWVdOw0KDQogICAgICBpZiAocHJldmlvdXNBY3Rpb24gIT09IGFjdGl2ZUFjdGlvbikgew0KICAgICAgICBwcmV2aW91c0FjdGlvbi5mYWRlT3V0KGR1cmF0aW9uKTsNCiAgICAgIH0NCg0KICAgICAgYWN0aXZlQWN0aW9uDQogICAgICAgIC5yZXNldCgpDQogICAgICAgIC5zZXRFZmZlY3RpdmVUaW1lU2NhbGUoMSkNCiAgICAgICAgLnNldEVmZmVjdGl2ZVdlaWdodCgxKQ0KICAgICAgICAuZmFkZUluKGR1cmF0aW9uKQ0KICAgICAgICAucGxheSgpOw0KICAgIH0sDQogICAgb25XaW5kb3dSZXNpemUoKSB7DQogICAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDsNCiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTsNCg0KICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpOw0KICAgIH0sDQogICAgYW5pbWF0ZSgpIHsNCiAgICAgIGNvbnN0IGR0ID0gdGhpcy5jbG9jay5nZXREZWx0YSgpOw0KICAgICAgLy8gaWYgKG1peGVyKSBtaXhlci51cGRhdGUoZHQpOw0KICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZSk7DQogICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7DQogICAgICB0aGlzLnN0YXRzLnVwZGF0ZSgpOw0KICAgIH0sDQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmluaXQoKTsNCiAgICB0aGlzLmFuaW1hdGUoKTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["Page.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Page.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"page\">\r\n    <div class=\"enter\">\r\n      <button type=\"success\" @click=\"manage\">Login</button>\r\n      <button type=\"success\" @click=\"welcome\">Enter to Blog</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from \"three\";\r\nimport * as dat from \"dat.gui\";\r\nimport * as Stats from \"stats.js\";\r\nexport default {\r\n  name: \"Page\",\r\n  data() {\r\n    return {\r\n      camera: null,\r\n      scene: null,\r\n      renderer: null,\r\n      light: null,\r\n      clock: null,\r\n      mesh: null,\r\n      stats:null,\r\n      width: null,\r\n      height: null,\r\n      param: null,\r\n    };\r\n  },\r\n  methods: {\r\n    welcome() {\r\n      this.$router.push({ path: \"/blog\" });\r\n    },\r\n    manage() {\r\n      this.$router.push({ path: \"/edit\" });\r\n    },\r\n    init() {\r\n      //相机\r\n      this.camera = new THREE.PerspectiveCamera(\r\n        45,\r\n        window.innerWidth / window.innerHeight,\r\n        0.25,\r\n        100\r\n      );\r\n      this.camera.position.set(-5, 3, 10);\r\n      this.camera.lookAt(new THREE.Vector3(0, 2, 0));\r\n      //场景\r\n      this.scene = new THREE.Scene();\r\n      this.scene.background = new THREE.Color(0xe0e0e0);\r\n      this.scene.fog = new THREE.Fog(0xe0e0e0, 20, 100);\r\n\r\n      this.clock = new THREE.Clock();\r\n\r\n      // 灯光\r\n      const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444);\r\n      hemiLight.position.set(0, 20, 0);\r\n      this.scene.add(hemiLight);\r\n\r\n      const dirLight = new THREE.DirectionalLight(0xffffff);\r\n      dirLight.position.set(0, 20, 10);\r\n      this.scene.add(dirLight);\r\n\r\n      // 地面\r\n      const mesh = new THREE.Mesh(\r\n        new THREE.PlaneGeometry(2000, 2000),\r\n        new THREE.MeshPhongMaterial({ color: 0xDDDDDD, depthWrite: false })\r\n      );\r\n      mesh.rotation.x = -Math.PI / 2;\r\n      this.scene.add(mesh);\r\n\r\n      const grid = new THREE.GridHelper(100, 60, 0x000000, 0x000000);\r\n      grid.material.opacity = 0.9;\r\n      grid.material.transparent = true;\r\n      this.scene.add(grid);\r\n\r\n      // model\r\n\r\n      // const loader = new GLTFLoader();\r\n      // loader.load( 'models/gltf/RobotExpressive/RobotExpressive.glb', function ( gltf ) {\r\n\r\n      // \tmodel = gltf.scene;\r\n      // \tscene.add( model );\r\n\r\n      // \tcreateGUI( model, gltf.animations );\r\n\r\n      // }, undefined, function ( e ) {\r\n\r\n      // \tconsole.error( e );\r\n\r\n      // } );\r\n\r\n      this.renderer = new THREE.WebGLRenderer({ antialias: true });\r\n      this.renderer.setPixelRatio(window.devicePixelRatio);\r\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n      this.renderer.outputEncoding = THREE.sRGBEncoding;\r\n      page.appendChild(this.renderer.domElement);\r\n\r\n      window.addEventListener(\"resize\", this.onWindowResize);\r\n\r\n      // stats\r\n      this.stats = new Stats();\r\n      page.appendChild(this.stats.dom);\r\n    },\r\n    createGUI(model, animations) {\r\n      const states = [\r\n        \"Idle\",\r\n        \"Walking\",\r\n        \"Running\",\r\n        \"Dance\",\r\n        \"Death\",\r\n        \"Sitting\",\r\n        \"Standing\",\r\n      ];\r\n      const emotes = [\"Jump\", \"Yes\", \"No\", \"Wave\", \"Punch\", \"ThumbsUp\"];\r\n\r\n      gui = new dat.GUI();\r\n\r\n      mixer = new THREE.AnimationMixer(model);\r\n\r\n      actions = {};\r\n\r\n      for (let i = 0; i < animations.length; i++) {\r\n        const clip = animations[i];\r\n        const action = mixer.clipAction(clip);\r\n        actions[clip.name] = action;\r\n\r\n        if (emotes.indexOf(clip.name) >= 0 || states.indexOf(clip.name) >= 4) {\r\n          action.clampWhenFinished = true;\r\n          action.loop = THREE.LoopOnce;\r\n        }\r\n      }\r\n\r\n      // states\r\n\r\n      const statesFolder = gui.addFolder(\"States\");\r\n\r\n      const clipCtrl = statesFolder.add(api, \"state\").options(states);\r\n\r\n      clipCtrl.onChange(function () {\r\n        fadeToAction(api.state, 0.5);\r\n      });\r\n\r\n      statesFolder.open();\r\n\r\n      // emotes\r\n\r\n      const emoteFolder = gui.addFolder(\"Emotes\");\r\n\r\n      function createEmoteCallback(name) {\r\n        api[name] = function () {\r\n          fadeToAction(name, 0.2);\r\n\r\n          mixer.addEventListener(\"finished\", restoreState);\r\n        };\r\n\r\n        emoteFolder.add(api, name);\r\n      }\r\n\r\n      function restoreState() {\r\n        mixer.removeEventListener(\"finished\", restoreState);\r\n\r\n        fadeToAction(api.state, 0.2);\r\n      }\r\n\r\n      for (let i = 0; i < emotes.length; i++) {\r\n        createEmoteCallback(emotes[i]);\r\n      }\r\n\r\n      emoteFolder.open();\r\n\r\n      // expressions\r\n\r\n      face = model.getObjectByName(\"Head_4\");\r\n\r\n      const expressions = Object.keys(face.morphTargetDictionary);\r\n      const expressionFolder = gui.addFolder(\"Expressions\");\r\n\r\n      for (let i = 0; i < expressions.length; i++) {\r\n        expressionFolder\r\n          .add(face.morphTargetInfluences, i, 0, 1, 0.01)\r\n          .name(expressions[i]);\r\n      }\r\n\r\n      activeAction = actions[\"Walking\"];\r\n      activeAction.play();\r\n\r\n      expressionFolder.open();\r\n    },\r\n    fadeToAction(name, duration) {\r\n      previousAction = activeAction;\r\n      activeAction = actions[name];\r\n\r\n      if (previousAction !== activeAction) {\r\n        previousAction.fadeOut(duration);\r\n      }\r\n\r\n      activeAction\r\n        .reset()\r\n        .setEffectiveTimeScale(1)\r\n        .setEffectiveWeight(1)\r\n        .fadeIn(duration)\r\n        .play();\r\n    },\r\n    onWindowResize() {\r\n      this.camera.aspect = window.innerWidth / window.innerHeight;\r\n      this.camera.updateProjectionMatrix();\r\n\r\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n    },\r\n    animate() {\r\n      const dt = this.clock.getDelta();\r\n      // if (mixer) mixer.update(dt);\r\n      requestAnimationFrame(this.animate);\r\n      this.renderer.render(this.scene, this.camera);\r\n      this.stats.update();\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.init();\r\n    this.animate();\r\n  },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n#page {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n  .enter {\r\n    width: 100%;\r\n    padding: 0 20px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    position: absolute;\r\n    bottom: 50%;\r\n  }\r\n}\r\n</style>"]}]}