{"remainingRequest":"D:\\mycode\\blogvuenew\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mycode\\blogvuenew\\src\\views\\Page.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\mycode\\blogvuenew\\src\\views\\Page.vue","mtime":1612776844652},{"path":"D:\\mycode\\blogvuenew\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mycode\\blogvuenew\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\mycode\\blogvuenew\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mycode\\blogvuenew\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBUSFJFRSBmcm9tICJ0aHJlZSI7DQppbXBvcnQgKiBhcyBkYXQgZnJvbSAiZGF0Lmd1aSI7DQppbXBvcnQgKiBhcyBTdGF0cyBmcm9tICJzdGF0cy5qcyI7DQovLyBpbXBvcnQgVXJsIGZyb20gIi4uLy4uL3B1YmxpYyI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJQYWdlIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgY2FtZXJhOiBudWxsLA0KICAgICAgc2NlbmU6IG51bGwsDQogICAgICByZW5kZXJlcjogbnVsbCwNCiAgICAgIGxpZ2h0OiBudWxsLA0KICAgICAgY2xvY2s6IG51bGwsDQogICAgICBtb2RlbDogbnVsbCwNCiAgICAgIHN0YXRzOiBudWxsLA0KICAgICAgd2lkdGg6IG51bGwsDQogICAgICBoZWlnaHQ6IG51bGwsDQogICAgICBwYXJhbTogbnVsbCwNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgd2VsY29tZSgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9ibG9nIiB9KTsNCiAgICB9LA0KICAgIG1hbmFnZSgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9lZGl0IiB9KTsNCiAgICB9LA0KICAgIGluaXQoKSB7DQogICAgICAvL+ebuOacug0KICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoDQogICAgICAgIDQ1LA0KICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwNCiAgICAgICAgMC4yNSwNCiAgICAgICAgMTAwDQogICAgICApOw0KICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KC01LCAzLCAxMCk7DQogICAgICB0aGlzLmNhbWVyYS5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoMCwgMiwgMCkpOw0KICAgICAgLy/lnLrmma8NCiAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsNCiAgICAgIHRoaXMuc2NlbmUuYmFja2dyb3VuZCA9IG5ldyBUSFJFRS5Db2xvcigweGUwZTBlMCk7DQogICAgICB0aGlzLnNjZW5lLmZvZyA9IG5ldyBUSFJFRS5Gb2coMHhlMGUwZTAsIDIwLCAxMDApOw0KDQogICAgICB0aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7DQoNCiAgICAgIC8vIOeBr+WFiQ0KICAgICAgY29uc3QgaGVtaUxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCgweGZmZmZmZiwgMHg0NDQ0NDQpOw0KICAgICAgaGVtaUxpZ2h0LnBvc2l0aW9uLnNldCgwLCAyMCwgMCk7DQogICAgICB0aGlzLnNjZW5lLmFkZChoZW1pTGlnaHQpOw0KDQogICAgICBjb25zdCBkaXJMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmKTsNCiAgICAgIGRpckxpZ2h0LnBvc2l0aW9uLnNldCgwLCAyMCwgMTApOw0KICAgICAgdGhpcy5zY2VuZS5hZGQoZGlyTGlnaHQpOw0KDQogICAgICAvLyDlnLDpnaINCiAgICAgIGNvbnN0IG1lc2ggPSBuZXcgVEhSRUUuTWVzaCgNCiAgICAgICAgbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMjAwMCwgMjAwMCksDQogICAgICAgIG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IGNvbG9yOiAweDk5OTk5OSwgZGVwdGhXcml0ZTogZmFsc2UgfSkNCiAgICAgICk7DQogICAgICBtZXNoLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAvIDI7DQogICAgICB0aGlzLnNjZW5lLmFkZChtZXNoKTsNCg0KICAgICAgY29uc3QgZ3JpZCA9IG5ldyBUSFJFRS5HcmlkSGVscGVyKDEwMCwgNjAsIDB4MDAwMDAwLCAweDAwMDAwMCk7DQogICAgICBncmlkLm1hdGVyaWFsLm9wYWNpdHkgPSAwLjk7DQogICAgICBncmlkLm1hdGVyaWFsLnRyYW5zcGFyZW50ID0gdHJ1ZTsNCiAgICAgIHRoaXMuc2NlbmUuYWRkKGdyaWQpOw0KDQogICAgICAvLyBtb2RlbA0KICAgICAgdmFyIE1UTExvYWRlciA9IHJlcXVpcmUoJ3RocmVlLW10bC1sb2FkZXInKTsNCiAgICAgIHZhciBtdGxMb2FkZXIgPSBuZXcgTVRMTG9hZGVyKCk7DQogICAgICAvL+iuvue9ruaWh+S7tui3r+W+hA0KICAgICAgbXRsTG9hZGVyLnNldFBhdGgoIi4uLy4uL3B1YmxpYy8iKTsNCiAgICAgIG10bExvYWRlci5sb2FkKA0KICAgICAgICAiQ2xlcmljLm10bCIsDQogICAgICAgIGZ1bmN0aW9uIChtYXRlcmlhbCkgew0KICAgICAgICAgIHRoaXMubW9kZWwgPSBnbHRmLnNjZW5lOw0KICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKG1vZGVsKTsNCiAgICAgICAgICAvL+WIm+W7uk9CSuWKoOi9veWZqA0KICAgICAgICAgIHZhciBPQkpMb2FkZXIgPSByZXF1aXJlKCd0aHJlZS1vYmotbG9hZGVyJyk7DQogICAgICAgICAgdmFyIG9iakxvYWRlciA9IG5ldyBPQkpMb2FkZXIoKTsNCiAgICAgICAgICAvL+iuvue9ruW9k+WJjeWKoOi9veeahOe6ueeQhg0KICAgICAgICAgIG9iakxvYWRlci5zZXRNYXRlcmlhbHMobWF0ZXJpYWwpOw0KICAgICAgICAgIG9iakxvYWRlci5zZXRQYXRoKCIuLi8uLi9wdWJsaWMvIik7DQogICAgICAgICAgb2JqTG9hZGVyLmxvYWQoIkNsZXJpYy5vYmoiLCBmdW5jdGlvbiAob2JqZWN0KSB7DQogICAgICAgICAgICAvL+a3u+WKoOmYtOW9sQ0KICAgICAgICAgICAgb2JqZWN0LnRyYXZlcnNlKGZ1bmN0aW9uIChpdGVtKSB7DQogICAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkgew0KICAgICAgICAgICAgICAgIGl0ZW0uY2FzdFNoYWRvdyA9IHRydWU7DQogICAgICAgICAgICAgICAgaXRlbS5yZWNlaXZlU2hhZG93ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAvL+e8qeaUvg0KICAgICAgICAgICAgb2JqZWN0LnNjYWxlLnNldCgwLjMsIDAuMywgMC4zKTsNCiAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKG9iamVjdCk7DQogICAgICAgICAgfSk7DQogICAgICAgICAgLy8gCWNyZWF0ZUdVSSggbW9kZWwsIGdsdGYuYW5pbWF0aW9ucyApOw0KICAgICAgICB9LA0KICAgICAgICB1bmRlZmluZWQsDQogICAgICAgIGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgY29uc29sZS5lcnJvcihlKTsNCiAgICAgICAgfQ0KICAgICAgKTsNCg0KICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYW50aWFsaWFzOiB0cnVlIH0pOw0KICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTsNCiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTsNCiAgICAgIHRoaXMucmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgPSBUSFJFRS5zUkdCRW5jb2Rpbmc7DQogICAgICBwYWdlLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7DQoNCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLm9uV2luZG93UmVzaXplKTsNCg0KICAgICAgLy8gc3RhdHMNCiAgICAgIHRoaXMuc3RhdHMgPSBuZXcgU3RhdHMoKTsNCiAgICAgIHBhZ2UuYXBwZW5kQ2hpbGQodGhpcy5zdGF0cy5kb20pOw0KICAgIH0sDQogICAgY3JlYXRlR1VJKG1vZGVsLCBhbmltYXRpb25zKSB7DQogICAgICBjb25zdCBzdGF0ZXMgPSBbDQogICAgICAgICJJZGxlIiwNCiAgICAgICAgIldhbGtpbmciLA0KICAgICAgICAiUnVubmluZyIsDQogICAgICAgICJEYW5jZSIsDQogICAgICAgICJEZWF0aCIsDQogICAgICAgICJTaXR0aW5nIiwNCiAgICAgICAgIlN0YW5kaW5nIiwNCiAgICAgIF07DQogICAgICBjb25zdCBlbW90ZXMgPSBbIkp1bXAiLCAiWWVzIiwgIk5vIiwgIldhdmUiLCAiUHVuY2giLCAiVGh1bWJzVXAiXTsNCg0KICAgICAgZ3VpID0gbmV3IGRhdC5HVUkoKTsNCg0KICAgICAgbWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIobW9kZWwpOw0KDQogICAgICBhY3Rpb25zID0ge307DQoNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykgew0KICAgICAgICBjb25zdCBjbGlwID0gYW5pbWF0aW9uc1tpXTsNCiAgICAgICAgY29uc3QgYWN0aW9uID0gbWl4ZXIuY2xpcEFjdGlvbihjbGlwKTsNCiAgICAgICAgYWN0aW9uc1tjbGlwLm5hbWVdID0gYWN0aW9uOw0KDQogICAgICAgIGlmIChlbW90ZXMuaW5kZXhPZihjbGlwLm5hbWUpID49IDAgfHwgc3RhdGVzLmluZGV4T2YoY2xpcC5uYW1lKSA+PSA0KSB7DQogICAgICAgICAgYWN0aW9uLmNsYW1wV2hlbkZpbmlzaGVkID0gdHJ1ZTsNCiAgICAgICAgICBhY3Rpb24ubG9vcCA9IFRIUkVFLkxvb3BPbmNlOw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIC8vIHN0YXRlcw0KDQogICAgICBjb25zdCBzdGF0ZXNGb2xkZXIgPSBndWkuYWRkRm9sZGVyKCJTdGF0ZXMiKTsNCg0KICAgICAgY29uc3QgY2xpcEN0cmwgPSBzdGF0ZXNGb2xkZXIuYWRkKGFwaSwgInN0YXRlIikub3B0aW9ucyhzdGF0ZXMpOw0KDQogICAgICBjbGlwQ3RybC5vbkNoYW5nZShmdW5jdGlvbiAoKSB7DQogICAgICAgIGZhZGVUb0FjdGlvbihhcGkuc3RhdGUsIDAuNSk7DQogICAgICB9KTsNCg0KICAgICAgc3RhdGVzRm9sZGVyLm9wZW4oKTsNCg0KICAgICAgLy8gZW1vdGVzDQoNCiAgICAgIGNvbnN0IGVtb3RlRm9sZGVyID0gZ3VpLmFkZEZvbGRlcigiRW1vdGVzIik7DQoNCiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUVtb3RlQ2FsbGJhY2sobmFtZSkgew0KICAgICAgICBhcGlbbmFtZV0gPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgZmFkZVRvQWN0aW9uKG5hbWUsIDAuMik7DQoNCiAgICAgICAgICBtaXhlci5hZGRFdmVudExpc3RlbmVyKCJmaW5pc2hlZCIsIHJlc3RvcmVTdGF0ZSk7DQogICAgICAgIH07DQoNCiAgICAgICAgZW1vdGVGb2xkZXIuYWRkKGFwaSwgbmFtZSk7DQogICAgICB9DQoNCiAgICAgIGZ1bmN0aW9uIHJlc3RvcmVTdGF0ZSgpIHsNCiAgICAgICAgbWl4ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZmluaXNoZWQiLCByZXN0b3JlU3RhdGUpOw0KDQogICAgICAgIGZhZGVUb0FjdGlvbihhcGkuc3RhdGUsIDAuMik7DQogICAgICB9DQoNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW1vdGVzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGNyZWF0ZUVtb3RlQ2FsbGJhY2soZW1vdGVzW2ldKTsNCiAgICAgIH0NCg0KICAgICAgZW1vdGVGb2xkZXIub3BlbigpOw0KDQogICAgICAvLyBleHByZXNzaW9ucw0KDQogICAgICBmYWNlID0gbW9kZWwuZ2V0T2JqZWN0QnlOYW1lKCJIZWFkXzQiKTsNCg0KICAgICAgY29uc3QgZXhwcmVzc2lvbnMgPSBPYmplY3Qua2V5cyhmYWNlLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSk7DQogICAgICBjb25zdCBleHByZXNzaW9uRm9sZGVyID0gZ3VpLmFkZEZvbGRlcigiRXhwcmVzc2lvbnMiKTsNCg0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHByZXNzaW9ucy5sZW5ndGg7IGkrKykgew0KICAgICAgICBleHByZXNzaW9uRm9sZGVyDQogICAgICAgICAgLmFkZChmYWNlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcywgaSwgMCwgMSwgMC4wMSkNCiAgICAgICAgICAubmFtZShleHByZXNzaW9uc1tpXSk7DQogICAgICB9DQoNCiAgICAgIGFjdGl2ZUFjdGlvbiA9IGFjdGlvbnNbIldhbGtpbmciXTsNCiAgICAgIGFjdGl2ZUFjdGlvbi5wbGF5KCk7DQoNCiAgICAgIGV4cHJlc3Npb25Gb2xkZXIub3BlbigpOw0KICAgIH0sDQogICAgZmFkZVRvQWN0aW9uKG5hbWUsIGR1cmF0aW9uKSB7DQogICAgICBwcmV2aW91c0FjdGlvbiA9IGFjdGl2ZUFjdGlvbjsNCiAgICAgIGFjdGl2ZUFjdGlvbiA9IGFjdGlvbnNbbmFtZV07DQoNCiAgICAgIGlmIChwcmV2aW91c0FjdGlvbiAhPT0gYWN0aXZlQWN0aW9uKSB7DQogICAgICAgIHByZXZpb3VzQWN0aW9uLmZhZGVPdXQoZHVyYXRpb24pOw0KICAgICAgfQ0KDQogICAgICBhY3RpdmVBY3Rpb24NCiAgICAgICAgLnJlc2V0KCkNCiAgICAgICAgLnNldEVmZmVjdGl2ZVRpbWVTY2FsZSgxKQ0KICAgICAgICAuc2V0RWZmZWN0aXZlV2VpZ2h0KDEpDQogICAgICAgIC5mYWRlSW4oZHVyYXRpb24pDQogICAgICAgIC5wbGF5KCk7DQogICAgfSwNCiAgICBvbldpbmRvd1Jlc2l6ZSgpIHsNCiAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0Ow0KICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpOw0KDQogICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7DQogICAgfSwNCiAgICBhbmltYXRlKCkgew0KICAgICAgY29uc3QgZHQgPSB0aGlzLmNsb2NrLmdldERlbHRhKCk7DQogICAgICAvLyBpZiAobWl4ZXIpIG1peGVyLnVwZGF0ZShkdCk7DQogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlKTsNCiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTsNCiAgICAgIHRoaXMuc3RhdHMudXBkYXRlKCk7DQogICAgfSwNCiAgfSwNCg0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuaW5pdCgpOw0KICAgIHRoaXMuYW5pbWF0ZSgpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Page.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Page.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"page\">\r\n    <div class=\"enter\">\r\n      <button type=\"success\" @click=\"manage\">Login</button>\r\n      <button type=\"success\" @click=\"welcome\">Enter to Blog</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from \"three\";\r\nimport * as dat from \"dat.gui\";\r\nimport * as Stats from \"stats.js\";\r\n// import Url from \"../../public\";\r\nexport default {\r\n  name: \"Page\",\r\n  data() {\r\n    return {\r\n      camera: null,\r\n      scene: null,\r\n      renderer: null,\r\n      light: null,\r\n      clock: null,\r\n      model: null,\r\n      stats: null,\r\n      width: null,\r\n      height: null,\r\n      param: null,\r\n    };\r\n  },\r\n  methods: {\r\n    welcome() {\r\n      this.$router.push({ path: \"/blog\" });\r\n    },\r\n    manage() {\r\n      this.$router.push({ path: \"/edit\" });\r\n    },\r\n    init() {\r\n      //相机\r\n      this.camera = new THREE.PerspectiveCamera(\r\n        45,\r\n        window.innerWidth / window.innerHeight,\r\n        0.25,\r\n        100\r\n      );\r\n      this.camera.position.set(-5, 3, 10);\r\n      this.camera.lookAt(new THREE.Vector3(0, 2, 0));\r\n      //场景\r\n      this.scene = new THREE.Scene();\r\n      this.scene.background = new THREE.Color(0xe0e0e0);\r\n      this.scene.fog = new THREE.Fog(0xe0e0e0, 20, 100);\r\n\r\n      this.clock = new THREE.Clock();\r\n\r\n      // 灯光\r\n      const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444);\r\n      hemiLight.position.set(0, 20, 0);\r\n      this.scene.add(hemiLight);\r\n\r\n      const dirLight = new THREE.DirectionalLight(0xffffff);\r\n      dirLight.position.set(0, 20, 10);\r\n      this.scene.add(dirLight);\r\n\r\n      // 地面\r\n      const mesh = new THREE.Mesh(\r\n        new THREE.PlaneGeometry(2000, 2000),\r\n        new THREE.MeshPhongMaterial({ color: 0x999999, depthWrite: false })\r\n      );\r\n      mesh.rotation.x = -Math.PI / 2;\r\n      this.scene.add(mesh);\r\n\r\n      const grid = new THREE.GridHelper(100, 60, 0x000000, 0x000000);\r\n      grid.material.opacity = 0.9;\r\n      grid.material.transparent = true;\r\n      this.scene.add(grid);\r\n\r\n      // model\r\n      var MTLLoader = require('three-mtl-loader');\r\n      var mtlLoader = new MTLLoader();\r\n      //设置文件路径\r\n      mtlLoader.setPath(\"../../public/\");\r\n      mtlLoader.load(\r\n        \"Cleric.mtl\",\r\n        function (material) {\r\n          this.model = gltf.scene;\r\n          this.scene.add(model);\r\n          //创建OBJ加载器\r\n          var OBJLoader = require('three-obj-loader');\r\n          var objLoader = new OBJLoader();\r\n          //设置当前加载的纹理\r\n          objLoader.setMaterials(material);\r\n          objLoader.setPath(\"../../public/\");\r\n          objLoader.load(\"Cleric.obj\", function (object) {\r\n            //添加阴影\r\n            object.traverse(function (item) {\r\n              if (item instanceof THREE.Mesh) {\r\n                item.castShadow = true;\r\n                item.receiveShadow = true;\r\n              }\r\n            });\r\n            //缩放\r\n            object.scale.set(0.3, 0.3, 0.3);\r\n            this.scene.add(object);\r\n          });\r\n          // \tcreateGUI( model, gltf.animations );\r\n        },\r\n        undefined,\r\n        function (e) {\r\n          console.error(e);\r\n        }\r\n      );\r\n\r\n      this.renderer = new THREE.WebGLRenderer({ antialias: true });\r\n      this.renderer.setPixelRatio(window.devicePixelRatio);\r\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n      this.renderer.outputEncoding = THREE.sRGBEncoding;\r\n      page.appendChild(this.renderer.domElement);\r\n\r\n      window.addEventListener(\"resize\", this.onWindowResize);\r\n\r\n      // stats\r\n      this.stats = new Stats();\r\n      page.appendChild(this.stats.dom);\r\n    },\r\n    createGUI(model, animations) {\r\n      const states = [\r\n        \"Idle\",\r\n        \"Walking\",\r\n        \"Running\",\r\n        \"Dance\",\r\n        \"Death\",\r\n        \"Sitting\",\r\n        \"Standing\",\r\n      ];\r\n      const emotes = [\"Jump\", \"Yes\", \"No\", \"Wave\", \"Punch\", \"ThumbsUp\"];\r\n\r\n      gui = new dat.GUI();\r\n\r\n      mixer = new THREE.AnimationMixer(model);\r\n\r\n      actions = {};\r\n\r\n      for (let i = 0; i < animations.length; i++) {\r\n        const clip = animations[i];\r\n        const action = mixer.clipAction(clip);\r\n        actions[clip.name] = action;\r\n\r\n        if (emotes.indexOf(clip.name) >= 0 || states.indexOf(clip.name) >= 4) {\r\n          action.clampWhenFinished = true;\r\n          action.loop = THREE.LoopOnce;\r\n        }\r\n      }\r\n\r\n      // states\r\n\r\n      const statesFolder = gui.addFolder(\"States\");\r\n\r\n      const clipCtrl = statesFolder.add(api, \"state\").options(states);\r\n\r\n      clipCtrl.onChange(function () {\r\n        fadeToAction(api.state, 0.5);\r\n      });\r\n\r\n      statesFolder.open();\r\n\r\n      // emotes\r\n\r\n      const emoteFolder = gui.addFolder(\"Emotes\");\r\n\r\n      function createEmoteCallback(name) {\r\n        api[name] = function () {\r\n          fadeToAction(name, 0.2);\r\n\r\n          mixer.addEventListener(\"finished\", restoreState);\r\n        };\r\n\r\n        emoteFolder.add(api, name);\r\n      }\r\n\r\n      function restoreState() {\r\n        mixer.removeEventListener(\"finished\", restoreState);\r\n\r\n        fadeToAction(api.state, 0.2);\r\n      }\r\n\r\n      for (let i = 0; i < emotes.length; i++) {\r\n        createEmoteCallback(emotes[i]);\r\n      }\r\n\r\n      emoteFolder.open();\r\n\r\n      // expressions\r\n\r\n      face = model.getObjectByName(\"Head_4\");\r\n\r\n      const expressions = Object.keys(face.morphTargetDictionary);\r\n      const expressionFolder = gui.addFolder(\"Expressions\");\r\n\r\n      for (let i = 0; i < expressions.length; i++) {\r\n        expressionFolder\r\n          .add(face.morphTargetInfluences, i, 0, 1, 0.01)\r\n          .name(expressions[i]);\r\n      }\r\n\r\n      activeAction = actions[\"Walking\"];\r\n      activeAction.play();\r\n\r\n      expressionFolder.open();\r\n    },\r\n    fadeToAction(name, duration) {\r\n      previousAction = activeAction;\r\n      activeAction = actions[name];\r\n\r\n      if (previousAction !== activeAction) {\r\n        previousAction.fadeOut(duration);\r\n      }\r\n\r\n      activeAction\r\n        .reset()\r\n        .setEffectiveTimeScale(1)\r\n        .setEffectiveWeight(1)\r\n        .fadeIn(duration)\r\n        .play();\r\n    },\r\n    onWindowResize() {\r\n      this.camera.aspect = window.innerWidth / window.innerHeight;\r\n      this.camera.updateProjectionMatrix();\r\n\r\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n    },\r\n    animate() {\r\n      const dt = this.clock.getDelta();\r\n      // if (mixer) mixer.update(dt);\r\n      requestAnimationFrame(this.animate);\r\n      this.renderer.render(this.scene, this.camera);\r\n      this.stats.update();\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.init();\r\n    this.animate();\r\n  },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n#page {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n  .enter {\r\n    width: 100%;\r\n    padding: 0 20px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    position: absolute;\r\n    bottom: 50%;\r\n  }\r\n}\r\n</style>"]}]}